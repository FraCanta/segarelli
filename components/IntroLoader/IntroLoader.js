import { useEffect, useRef } from "react";
import gsap from "gsap/dist/gsap";

export default function IntroLoader({ isVisible }) {
  const loaderRef = useRef(null);
  const logoRef = useRef(null);

  useEffect(() => {
    if (!loaderRef.current || !logoRef.current) return;

    if (isVisible) {
      gsap.set(loaderRef.current, { autoAlpha: 1 });
      gsap.fromTo(
        logoRef.current,
        { scale: 0.8, opacity: 0 },
        {
          scale: 1,
          opacity: 1,
          duration: 2,
          ease: "power2.out",
        }
      );
    } else {
      gsap.to(loaderRef.current, {
        autoAlpha: 0,
        duration: 0.6,
        ease: "power2.inOut",
      });
    }
  }, [isVisible]);

  return (
    <div
      ref={loaderRef}
      className="fixed inset-0 z-[9999] flex items-center justify-center bg-primary pointer-events-none opacity-0"
    >
      <svg ref={logoRef} className="w-[240px] h-auto" viewBox="0 0 255 72">
        <path
          d="M102.18 63.9074L103.529 60.9392C104.969 61.9736 107.127 62.7381 109.151 62.7381C111.49 62.7381 112.434 61.9736 112.434 60.8942C112.434 57.7011 102.495 59.9048 102.495 53.5635C102.495 50.6402 104.834 48.2567 109.691 48.2567C111.849 48.2567 114.053 48.7514 115.627 49.7858L114.413 52.799C112.839 51.8995 111.175 51.4498 109.691 51.4498C107.352 51.4498 106.453 52.3492 106.453 53.3836C106.453 56.5318 116.392 54.3731 116.392 60.6244C116.392 63.5027 114.008 65.9313 109.151 65.9313C106.453 65.8863 103.709 65.0768 102.18 63.9074Z"
          fill="white"
        />
        <path
          fill-rule="evenodd"
          clip-rule="evenodd"
          d="M132.358 62.4233V65.5715H119.09V48.4815H132.043V51.6746H123.048V55.3625H130.963V58.4656H123.048V62.4233H132.358Z"
          fill="white"
        />
        <path
          d="M146.973 56.7566H150.571V63.6826C148.682 65.0767 146.119 65.8413 143.645 65.8413C138.294 65.8413 134.336 62.1534 134.336 56.9815C134.336 51.8095 138.294 48.1217 143.735 48.1217C146.749 48.1217 149.222 49.1561 150.886 51.09L148.368 53.4286C147.108 52.1244 145.669 51.4947 143.96 51.4947C140.632 51.4947 138.384 53.6984 138.384 56.9815C138.384 60.1746 140.632 62.4683 143.915 62.4683C144.995 62.4683 145.984 62.2884 146.973 61.7487V56.7566Z"
          fill="white"
        />
        <path
          d="M165.502 61.9286H157.586L156.057 65.5715H152.01L159.61 48.4815H163.523L171.168 65.5715H167.031L165.502 61.9286ZM164.288 58.9154L161.589 52.3492L158.891 58.9154H164.288Z"
          fill="white"
        />
        <path
          d="M183.852 65.5715L180.569 60.8043H180.389H176.926V65.5715H172.968V48.4815H180.389C184.976 48.4815 187.81 50.8651 187.81 54.6879C187.81 57.2513 186.505 59.1402 184.302 60.0847L188.124 65.5715H183.852ZM180.164 51.7196H176.926V57.6561H180.164C182.593 57.6561 183.807 56.5318 183.807 54.6879C183.807 52.799 182.548 51.7196 180.164 51.7196Z"
          fill="white"
        />
        <path
          fill-rule="evenodd"
          clip-rule="evenodd"
          d="M204.135 62.4233V65.5715H190.913V48.4815H203.82V51.6746H194.825V55.3625H202.786V58.4656H194.825V62.4233H204.135Z"
          fill="white"
        />
        <path
          fill-rule="evenodd"
          clip-rule="evenodd"
          d="M207.283 48.4815H211.241V62.3783H219.831V65.5715H207.283V48.4815Z"
          fill="white"
        />
        <path
          fill-rule="evenodd"
          clip-rule="evenodd"
          d="M222.035 48.4815H225.993V62.3783H234.583V65.5715H222.035V48.4815Z"
          fill="white"
        />
        <path
          fill-rule="evenodd"
          clip-rule="evenodd"
          d="M236.786 48.4815H240.744V65.5715H236.786V48.4815Z"
          fill="white"
        />
        <path
          d="M112.119 39.6217H105.014L103.485 43.0397H102.09L107.892 30.3122H109.241L115.043 43.0397H113.604L112.119 39.6217ZM111.625 38.4974L108.567 31.6614L105.508 38.4974H111.625Z"
          fill="white"
        />
        <path
          d="M126.69 36.6534H127.995V41.5106C126.78 42.5899 125.071 43.1296 123.317 43.1296C119.45 43.1296 116.616 40.3862 116.616 36.6534C116.616 32.9206 119.45 30.1772 123.362 30.1772C125.296 30.1772 126.96 30.8069 128.084 32.0212L127.23 32.8757C126.151 31.8413 124.891 31.3915 123.407 31.3915C120.259 31.3915 117.965 33.6402 117.965 36.6534C117.965 39.6667 120.259 41.9153 123.407 41.9153C124.622 41.9153 125.746 41.6455 126.735 40.9259V36.6534H126.69Z"
          fill="white"
        />
        <path
          d="M141.172 42.9947L138.249 38.9021C137.934 38.9471 137.574 38.9471 137.214 38.9471H133.796V42.9947H132.447V30.2672H137.214C140.453 30.2672 142.431 31.8863 142.431 34.6296C142.431 36.6085 141.397 38.0476 139.508 38.6323L142.611 42.9947H141.172ZM141.127 34.6296C141.127 32.6058 139.778 31.4365 137.214 31.4365H133.841V37.8228H137.214C139.778 37.8228 141.127 36.6535 141.127 34.6296Z"
          fill="white"
        />
        <path
          fill-rule="evenodd"
          clip-rule="evenodd"
          d="M146.344 30.2672H147.693V42.9947H146.344V30.2672Z"
          fill="white"
        />
        <path
          fill-rule="evenodd"
          clip-rule="evenodd"
          d="M192.397 30.2672H193.746V42.9947H192.397V30.2672Z"
          fill="white"
        />
        <path
          fill-rule="evenodd"
          clip-rule="evenodd"
          d="M155.024 31.4365H150.527V30.2672H160.826V31.4365H156.373V42.9947H155.024V31.4365Z"
          fill="white"
        />
        <path
          d="M163.343 37.5529V30.2672H164.692V37.508C164.692 40.5212 166.132 41.9154 168.605 41.9154C171.079 41.9154 172.518 40.5212 172.518 37.508V30.2672H173.822V37.5529C173.822 41.1958 171.843 43.0847 168.605 43.0847C165.322 43.1296 163.343 41.1958 163.343 37.5529Z"
          fill="white"
        />
        <path
          d="M187.224 42.9947L184.301 38.9021C183.986 38.9471 183.626 38.9471 183.266 38.9471H179.893V42.9947H178.544V30.2672H183.311C186.549 30.2672 188.528 31.8863 188.528 34.6296C188.528 36.6085 187.494 38.0476 185.605 38.6323L188.708 42.9947H187.224ZM187.179 34.6296C187.179 32.6058 185.83 31.4365 183.266 31.4365H179.893V37.8228H183.266C185.83 37.8228 187.179 36.6535 187.179 34.6296Z"
          fill="white"
        />
        <path
          d="M197.388 41.4657L197.927 40.4313C198.827 41.3307 200.446 41.9604 202.11 41.9604C204.494 41.9604 205.528 40.9709 205.528 39.7117C205.528 36.2038 197.703 38.3625 197.703 33.6403C197.703 31.7514 199.142 30.1323 202.38 30.1323C203.819 30.1323 205.303 30.5371 206.337 31.2567L205.888 32.336C204.808 31.6165 203.504 31.3016 202.38 31.3016C200.041 31.3016 199.007 32.336 199.007 33.5953C199.007 37.1032 206.832 34.9895 206.832 39.6217C206.832 41.5106 205.348 43.0847 202.065 43.0847C200.221 43.1297 198.332 42.4551 197.388 41.4657Z"
          fill="white"
        />
        <path
          fill-rule="evenodd"
          clip-rule="evenodd"
          d="M223.743 30.2672V42.9947H222.439V32.8307L217.447 41.3757H216.817L211.78 32.8757V42.9947H210.521V30.2672H211.6L217.132 39.7117L222.619 30.2672H223.743Z"
          fill="white"
        />
        <path
          d="M227.476 36.6534C227.476 32.9656 230.309 30.1772 234.177 30.1772C238 30.1772 240.833 32.9206 240.833 36.6534C240.833 40.3862 238 43.1296 234.177 43.1296C230.309 43.1296 227.476 40.3413 227.476 36.6534ZM239.484 36.6534C239.484 33.5952 237.19 31.3915 234.177 31.3915C231.119 31.3915 228.825 33.6402 228.825 36.6534C228.825 39.7116 231.119 41.9153 234.177 41.9153C237.19 41.9153 239.484 39.6667 239.484 36.6534Z"
          fill="white"
        />
        <path
          d="M87.5635 37.8228C85.6297 37.8228 84.5953 37.0132 84.3704 36.7884C83.8757 36.3386 83.7408 35.6191 84.0556 35.0794C87.7434 28.3333 94.8942 28.3333 98.1773 29.2778C98.672 29.4127 99.0318 29.8175 99.1667 30.2672C99.3016 30.7619 99.1217 31.2566 98.7619 31.6164C93.59 36.6535 89.9021 37.8228 87.5635 37.8228ZM87.4736 34.9894C88.7328 35.0344 91.0265 34.4947 94.5344 31.6614C92.4207 31.7064 89.5873 32.336 87.4736 34.9894Z"
          fill="white"
        />
        <path
          d="M63.728 65.8862C62.9635 65.8862 62.3339 65.2566 62.3339 64.4921V54.2381C62.3339 52.2593 60.1302 50.6402 57.4767 50.6402H56.4873C53.8788 50.6402 51.6302 52.3042 51.6302 54.2381V64.4921C51.6302 65.2566 51.0005 65.8862 50.236 65.8862C49.4714 65.8862 48.8418 65.2566 48.8418 64.4921V54.2381C48.8418 50.6852 52.2598 47.8069 56.4873 47.8069H57.4767C61.7042 47.8069 65.1222 50.6852 65.1222 54.2381V64.4921C65.1222 65.2566 64.4926 65.8862 63.728 65.8862Z"
          fill="white"
        />
        <path
          d="M90.0369 65.8863H17.6295C16.865 65.8863 16.2354 65.2566 16.2354 64.4921C16.2354 63.7275 16.865 63.0979 17.6295 63.0979H90.0369C90.8015 63.0979 91.4311 63.7275 91.4311 64.4921C91.4311 65.2566 90.8015 65.8863 90.0369 65.8863Z"
          fill="white"
        />
        <path
          d="M56.9818 43.4894C54.4633 43.4894 52.3945 41.4206 52.3945 38.9021C52.3945 36.3836 54.4633 34.3148 56.9818 34.3148C59.5003 34.3148 61.5691 36.3836 61.5691 38.9021C61.5691 41.4206 59.5003 43.4894 56.9818 43.4894ZM56.9818 37.1032C55.9924 37.1032 55.1829 37.9127 55.1829 38.9021C55.1829 39.8915 55.9924 40.7011 56.9818 40.7011C57.9712 40.7011 58.7808 39.8915 58.7808 38.9021C58.7808 37.9127 57.9712 37.1032 56.9818 37.1032Z"
          fill="white"
        />
        <path
          d="M32.2912 64.672C31.5266 64.672 30.897 64.0423 30.897 63.2778V56.5318C30.897 55.7672 31.5266 55.1376 32.2912 55.1376C33.0557 55.1376 33.6853 55.7672 33.6853 56.5318V63.2778C33.7303 64.0423 33.1007 64.672 32.2912 64.672Z"
          fill="white"
        />
        <path
          d="M20.6432 64.672C19.8787 64.672 19.249 64.0423 19.249 63.2778V50.0556C19.249 49.291 19.8787 48.6614 20.6432 48.6614C21.4078 48.6614 22.0374 49.291 22.0374 50.0556V63.2778C22.0374 64.0423 21.4078 64.672 20.6432 64.672Z"
          fill="white"
        />
        <path
          d="M32.291 57.9259C29.2328 57.9259 25.9048 54.6428 25.9048 45.4233C25.9048 37.7328 28.5582 27.2989 30.1773 21.7222C30.4471 20.7778 31.3016 20.1481 32.291 20.1481C33.2804 20.1481 34.1349 20.7778 34.4048 21.7222C35.9789 27.254 38.6773 37.7328 38.6773 45.4233C38.6773 53.0238 36.1588 57.9259 32.291 57.9259ZM32.291 24.6005C30.8969 29.7725 28.7381 38.8571 28.7381 45.4233C28.7381 51.8095 30.5371 55.1375 32.291 55.1375C34 55.1375 35.8439 51.7196 35.8439 45.4233C35.8889 38.8122 33.6852 29.7275 32.291 24.6005Z"
          fill="white"
        />
        <path
          d="M20.6431 51.4498C17.5849 51.4498 14.2568 48.1667 14.2568 38.9471C14.2568 31.2566 16.9103 20.8228 18.5293 15.2461C18.7992 14.3016 19.6537 13.672 20.6431 13.672C21.6325 13.672 22.487 14.3016 22.7568 15.2461C24.3309 20.7778 27.0293 31.2566 27.0293 38.9471C26.9843 46.5477 24.5108 51.4498 20.6431 51.4498ZM20.6431 18.1244C19.2489 23.2963 17.0902 32.381 17.0902 38.9471C17.0902 45.3334 18.8891 48.6614 20.6431 48.6614C22.3521 48.6614 24.196 45.2434 24.196 38.9471C24.196 32.336 22.0373 23.2514 20.6431 18.1244Z"
          fill="white"
        />
        <path
          d="M82.0769 33.3704C79.6034 33.3704 75.3759 31.4815 74.5664 24.0608C74.5214 23.6111 74.7013 23.1164 75.0611 22.8465C75.4209 22.5317 75.9156 22.4418 76.3653 22.5767C79.2886 23.4762 84.5955 26.6693 83.7859 32.1561C83.696 32.7857 83.2013 33.2804 82.5267 33.3254C82.3918 33.3704 82.2568 33.3704 82.0769 33.3704ZM77.8494 26.3095C78.614 28.9629 80.0082 29.9524 80.9976 30.3571C80.6828 28.4682 79.1986 27.119 77.8494 26.3095Z"
          fill="white"
        />
        <path
          d="M83.6061 40.836C82.8415 40.836 82.2119 40.2064 82.2119 39.4418C82.2119 10.299 96.7833 5.75664 97.413 5.57674C98.1775 5.35187 98.9421 5.80161 99.1669 6.52119C99.3918 7.24076 98.9421 8.05029 98.2225 8.27515C98.1325 8.32013 94.8945 9.35452 91.6564 13.582C88.5982 17.5847 85.0003 25.3201 85.0003 39.4418C85.0003 40.2064 84.3706 40.836 83.6061 40.836Z"
          fill="white"
        />
        <path
          d="M91.1162 45.2434C90.8913 45.2434 90.6665 45.1984 90.4866 45.0635L57.0263 27.5238L37.103 37.9577C36.4284 38.3175 35.5739 38.0476 35.2141 37.373C34.8543 36.6984 35.1241 35.8439 35.7987 35.4842L56.3966 24.6905C56.8014 24.4656 57.2961 24.4656 57.7009 24.6905L91.8358 42.545C92.5104 42.9048 92.7802 43.7593 92.4204 44.4339C92.1056 44.9736 91.6109 45.2434 91.1162 45.2434Z"
          fill="white"
        />
        <path
          d="M83.6061 65.8862C82.8415 65.8862 82.2119 65.2566 82.2119 64.4921V39.4418C82.1669 38.8571 81.5373 23.791 89.4077 17.7196C92.8706 15.0212 97.368 14.5265 102.81 16.2355C103.215 16.3704 103.574 16.6852 103.709 17.09C103.844 17.4947 103.799 17.9445 103.574 18.3042C103.394 18.6191 98.7172 25.8598 86.9341 26.2196C84.7304 32.2011 85.0452 39.3069 85.0452 39.3968V64.537C85.0003 65.2566 84.3706 65.8862 83.6061 65.8862ZM96.9632 18.0344C94.6696 18.0344 92.7357 18.664 91.1167 19.9233C89.9473 20.8228 89.0029 21.9921 88.2383 23.2963C94.4447 22.7566 98.0876 20.1032 99.8415 18.3492C98.8521 18.1244 97.8627 18.0344 96.9632 18.0344Z"
          fill="white"
        />
      </svg>
    </div>
  );
}
